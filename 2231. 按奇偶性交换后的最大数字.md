```java
class Solution {
    public int largestInteger(int num) {
        int[] ns = new int[10];
        boolean[] bs = new boolean[10];
        int t = num, idx = 10, ans = 0, p;
        while (t != 0) {
            p = t % 10;
            bs[--idx] = p % 2 == 0;
            ns[p]++;
            t /= 10;
        }
        while (idx < 10) {
            p = bs[idx] ? 8 : 9;
            while (ns[p] == 0) p -= 2;
            ans = ans * 10 + p;
            ns[p]--;
            idx++;
        }
        return ans;
    }
}
```